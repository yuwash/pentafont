{"version":3,"sources":["pentafont.js"],"names":["config","encoding","renderer","fontSize","fontWidth","lineHeight","letterSpacing","minWidth","encodingDotsies","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","_31","encodingEtaisparse","_29","_30","encodingLatinoid","renderByte","bitRenderer","byte_","width","height","reduce","accumulator","bit","push","renderByteEtaionsparse","grid","renderByteDotsies","latinoidPolygons","renderByteLatinoid","map","x_","y_","renderLetters","text","Array","from","character","bruttoLetterWidth","bruttoLineHeight","lastPos","length","addRow","getEncoding","getRenderer","characterToRender","toLowerCase","fontHeight","polygons","pointsFormat","points","point","name","etaionsparse","dotsies","latinoid","getWidth","parentElement","document","getElementById","parentWidth","getBoundingClientRect","ractive","Ractive","target","template","data","imageFilename","imageURL","updateImageFilename","set","get","substring","updateImageURL","linkElement","find","renderElement","svgFile","Blob","innerHTML","type","URL","createObjectURL","observe","onrender","window","addEventListener"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAG;AACbC,EAAAA,QAAQ,EAAE,cADG;AAEbC,EAAAA,QAAQ,EAAE,cAFG;AAGbC,EAAAA,QAAQ,EAAE,EAHG;AAIbC,EAAAA,SAAS,EAAE,GAJE;AAII;AACjBC,EAAAA,UAAU,EAAE,GALC;AAMbC,EAAAA,aAAa,EAAE,CANF;AAObC,EAAAA,QAAQ,EAAE;AAPG,CAAf;AAUA,IAAMC,eAAe,GAAG;AACtB,OAAK,CADiB;AAEtBC,EAAAA,CAAC,EAAE,CAFmB;AAGtBC,EAAAA,CAAC,EAAE,CAHmB;AAItBC,EAAAA,CAAC,EAAE,CAJmB;AAKtBC,EAAAA,CAAC,EAAE,CALmB;AAMtBC,EAAAA,CAAC,EAAE,EANmB;AAOtBC,EAAAA,CAAC,EAAE,CAPmB;AAQtBC,EAAAA,CAAC,EAAE,CARmB;AAStBC,EAAAA,CAAC,EAAE,EATmB;AAUtBC,EAAAA,CAAC,EAAE,EAVmB;AAWtBC,EAAAA,CAAC,EAAE,CAXmB;AAYtBC,EAAAA,CAAC,EAAE,EAZmB;AAatBC,EAAAA,CAAC,EAAE,EAbmB;AActBC,EAAAA,CAAC,EAAE,CAdmB;AAetBC,EAAAA,CAAC,EAAE,EAfmB;AAgBtBC,EAAAA,CAAC,EAAE,EAhBmB;AAiBtBC,EAAAA,CAAC,EAAE,CAjBmB;AAkBtBC,EAAAA,CAAC,EAAE,EAlBmB;AAmBtBC,EAAAA,CAAC,EAAE,EAnBmB;AAoBtBC,EAAAA,CAAC,EAAE,EApBmB;AAqBtBC,EAAAA,CAAC,EAAE,EArBmB;AAsBtBC,EAAAA,CAAC,EAAE,EAtBmB;AAuBtBC,EAAAA,CAAC,EAAE,EAvBmB;AAwBtBC,EAAAA,CAAC,EAAE,EAxBmB;AAyBtBC,EAAAA,CAAC,EAAE,EAzBmB;AA0BtBC,EAAAA,CAAC,EAAE,EA1BmB;AA2BtBC,EAAAA,CAAC,EAAE,EA3BmB;AA4BtBC,EAAAA,GAAG,EAAE;AA5BiB,CAAxB;AA+BA,IAAMC,kBAAkB,GAAG;AACzB,OAAK,CADoB;AAEzB3B,EAAAA,CAAC,EAAE,CAFsB;AAGzBC,EAAAA,CAAC,EAAE,CAHsB;AAIzBC,EAAAA,CAAC,EAAE,EAJsB;AAKzBC,EAAAA,CAAC,EAAE,CALsB;AAMzBC,EAAAA,CAAC,EAAE,CANsB;AAOzBC,EAAAA,CAAC,EAAE,CAPsB;AAQzBC,EAAAA,CAAC,EAAE,EARsB;AASzBC,EAAAA,CAAC,EAAE,EATsB;AAUzBC,EAAAA,CAAC,EAAE,EAVsB;AAWzBC,EAAAA,CAAC,EAAE,EAXsB;AAYzBC,EAAAA,CAAC,EAAE,EAZsB;AAazBC,EAAAA,CAAC,EAAE,EAbsB;AAczBC,EAAAA,CAAC,EAAE,EAdsB;AAezBC,EAAAA,CAAC,EAAE,EAfsB;AAgBzBC,EAAAA,CAAC,EAAE,CAhBsB;AAiBzBC,EAAAA,CAAC,EAAE,EAjBsB;AAkBzBC,EAAAA,CAAC,EAAE,EAlBsB;AAmBzBC,EAAAA,CAAC,EAAE,CAnBsB;AAoBzBC,EAAAA,CAAC,EAAE,EApBsB;AAqBzBC,EAAAA,CAAC,EAAE,CArBsB;AAsBzBC,EAAAA,CAAC,EAAE,CAtBsB;AAuBzBC,EAAAA,CAAC,EAAE,EAvBsB;AAwBzBC,EAAAA,CAAC,EAAE,EAxBsB;AAyBzBC,EAAAA,CAAC,EAAE,EAzBsB;AA0BzBC,EAAAA,CAAC,EAAE,EA1BsB;AA2BzBC,EAAAA,CAAC,EAAE,EA3BsB;AA4BzB,OAAK,EA5BoB;AA6BzB,OAAK,EA7BoB;AA8BzBG,EAAAA,GAAG,EAAE,EA9BoB;AA+BzBC,EAAAA,GAAG,EAAE,EA/BoB;AAgCzBH,EAAAA,GAAG,EAAE;AAhCoB,CAA3B;AAmCA,IAAMI,gBAAgB,GAAG;AACvB,OAAK,CADkB;AAEvB9B,EAAAA,CAAC,EAAE,EAFoB;AAGvBC,EAAAA,CAAC,EAAE,EAHoB;AAIvBC,EAAAA,CAAC,EAAE,EAJoB;AAKvBC,EAAAA,CAAC,EAAE,CALoB;AAMvBC,EAAAA,CAAC,EAAE,EANoB;AAOvBC,EAAAA,CAAC,EAAE,EAPoB;AAQvBC,EAAAA,CAAC,EAAE,EARoB;AASvBC,EAAAA,CAAC,EAAE,EAToB;AAUvBC,EAAAA,CAAC,EAAE,CAVoB;AAWvBC,EAAAA,CAAC,EAAE,CAXoB;AAYvBC,EAAAA,CAAC,EAAE,EAZoB;AAavBC,EAAAA,CAAC,EAAE,CAboB;AAcvBC,EAAAA,CAAC,EAAE,EAdoB;AAevBC,EAAAA,CAAC,EAAE,EAfoB;AAgBvBC,EAAAA,CAAC,EAAE,CAhBoB;AAiBvBC,EAAAA,CAAC,EAAE,EAjBoB;AAkBvBC,EAAAA,CAAC,EAAE,EAlBoB;AAmBvBC,EAAAA,CAAC,EAAE,EAnBoB;AAoBvBC,EAAAA,CAAC,EAAE,EApBoB;AAqBvBC,EAAAA,CAAC,EAAE,EArBoB;AAsBvBC,EAAAA,CAAC,EAAE,CAtBoB;AAuBvBC,EAAAA,CAAC,EAAE,CAvBoB;AAwBvBC,EAAAA,CAAC,EAAE,CAxBoB;AAyBvBC,EAAAA,CAAC,EAAE,EAzBoB;AA0BvBC,EAAAA,CAAC,EAAE,EA1BoB;AA2BvBC,EAAAA,CAAC,EAAE,EA3BoB;AA4BvB,OAAK,EA5BkB;AA6BvB,OAAK,CA7BkB;AA8BvBG,EAAAA,GAAG,EAAE,EA9BkB;AA+BvBC,EAAAA,GAAG,EAAE,EA/BkB;AAgCvBH,EAAAA,GAAG,EAAE;AAhCkB,CAAzB;;AAmCA,IAAMK,UAAU,GAAG,SAAbA,UAAa,CAACC,WAAD,EAAcC,KAAd,EAAqBV,CAArB,EAAwBC,CAAxB,EAA2BU,KAA3B,EAAkCC,MAAlC;AAAA,SACjB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAD8D,CAE9DC,MAF8D,CAEvD,UAACC,WAAD,EAAcC,GAAd,EAAsB;AAC7B,QAAI,IAAI,CAACL,KAAK,IAAIK,GAAV,IAAiB,CAAzB,EAA4B;AAC1BD,MAAAA,WAAW,CAACE,IAAZ,CAAiBP,WAAW,CAACM,GAAD,EAAMf,CAAN,EAASC,CAAT,EAAYU,KAAZ,EAAmBC,MAAnB,CAA5B;AACD;;AACD,WAAOE,WAAP;AACD,GAP+D,EAO7D,EAP6D,CAA7C;AAAA,CAAnB;;AASA,IAAMG,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACP,KAAD,EAAQV,CAAR,EAAWC,CAAX,EAAcU,KAAd,EAAqBC,MAArB;AAAA,SAAgCJ,UAAU,CAAC,UACtEO,GADsE,EACjEf,CADiE,EAC9DC,CAD8D,EAC3DU,KAD2D,EACpDC,MADoD,EACzC;AAC/B,QAAMM,IAAI,GAAG,CACX,CAAClB,CAAD,EAAIC,CAAJ,CADW,EACF;AACT,KAACD,CAAD,EAAIC,CAAC,GAAGW,MAAM,GAAG,CAAjB,CAFW,EAEW;AACtB,KAACZ,CAAD,EAAIC,CAAC,GAAGW,MAAR,CAHW,EAGO;AAClB,KAACZ,CAAC,GAAGW,KAAL,EAAYV,CAAZ,CAJW,EAIM;AACjB,KAACD,CAAC,GAAGW,KAAL,EAAYV,CAAC,GAAGW,MAAM,GAAG,CAAzB,CALW,EAKmB;AAC9B,KAACZ,CAAC,GAAGW,KAAL,EAAYV,CAAC,GAAGW,MAAM,GAAG,CAAT,GAAa,CAA7B,CANW,EAMuB;AAClC,KAACZ,CAAC,GAAGW,KAAL,EAAYV,CAAC,GAAGW,MAAhB,CAPW,CAOe;AAPf,KAAb;;AASA,QAAIG,GAAG,IAAI,CAAX,EAAc;AACZ,aAAO,CAAEG,IAAI,CAAC,CAAD,CAAN,EAAWA,IAAI,CAAC,CAAD,CAAf,EAAoBA,IAAI,CAAC,CAAD,CAAxB,CAAP;AACD,KAFD,MAEO,IAAIH,GAAG,IAAI,CAAX,EAAc;AACnB,aAAO,CAAEG,IAAI,CAAC,CAAD,CAAN,EAAWA,IAAI,CAAC,CAAD,CAAf,EAAoBA,IAAI,CAAC,CAAD,CAAxB,CAAP;AACD,KAFM,MAEA,IAAIH,GAAG,IAAI,CAAX,EAAc;AACnB,aAAO,CAAEG,IAAI,CAAC,CAAD,CAAN,EAAWA,IAAI,CAAC,CAAD,CAAf,EAAoBA,IAAI,CAAC,CAAD,CAAxB,CAAP;AACD,KAFM,MAEA,IAAIH,GAAG,IAAI,CAAX,EAAc;AACnB,aAAO,CAAEG,IAAI,CAAC,CAAD,CAAN,EAAWA,IAAI,CAAC,CAAD,CAAf,EAAoBA,IAAI,CAAC,CAAD,CAAxB,CAAP;AACD,KAFM,MAEA,IAAIH,GAAG,IAAI,CAAX,EAAc;AACnB,aAAO,CAAEG,IAAI,CAAC,CAAD,CAAN,EAAWA,IAAI,CAAC,CAAD,CAAf,EAAoBA,IAAI,CAAC,CAAD,CAAxB,CAAP;AACD;AACF,GAtBwE,EAsBtER,KAtBsE,EAsB/DV,CAtB+D,EAsB5DC,CAtB4D,EAsBzDU,KAtByD,EAsBlDC,MAtBkD,CAA1C;AAAA,CAA/B;;AAwBA,IAAMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACT,KAAD,EAAQV,CAAR,EAAWC,CAAX,EAAcU,KAAd,EAAqBC,MAArB;AAAA,SAAgCJ,UAAU,CAAC,UACjEO,GADiE,EAC5Df,CAD4D,EACzDC,CADyD,EACtDU,KADsD,EAC/CC,MAD+C;AAAA,WACpC,CAC/B,CAACZ,CAAD,EAAIC,CAAC,GAAGc,GAAG,GAAGH,MAAN,GAAe,CAAvB,CAD+B,EAE/B,CAACZ,CAAD,EAAIC,CAAC,GAAG,CAACc,GAAG,GAAG,CAAP,IAAYH,MAAZ,GAAqB,CAA7B,CAF+B,EAG/B,CAACZ,CAAC,GAAGW,KAAL,EAAYV,CAAC,GAAG,CAACc,GAAG,GAAG,CAAP,IAAYH,MAAZ,GAAqB,CAArC,CAH+B,EAI/B,CAACZ,CAAC,GAAGW,KAAL,EAAYV,CAAC,GAAGc,GAAG,GAAGH,MAAN,GAAe,CAA/B,CAJ+B,CADoC;AAAA,GAAD,EAMjEF,KANiE,EAM1DV,CAN0D,EAMvDC,CANuD,EAMpDU,KANoD,EAM7CC,MAN6C,CAA1C;AAAA,CAA1B;;AAQA,IAAMQ,gBAAgB,GAAG,CACvB,CAAE,CAAC,CAAD,EAAI,CAAJ,CAAF,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B,CADuB,EAEvB,CAAE,CAAC,CAAD,EAAI,CAAJ,CAAF,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B,CAFuB,EAGvB,CAAE,CAAC,CAAD,EAAI,CAAJ,CAAF,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B,CAHuB,EAIvB,CAAE,CAAC,CAAD,EAAI,CAAJ,CAAF,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,EAAJ,CAAlB,EAA2B,CAAC,CAAD,EAAI,CAAJ,CAA3B,CAJuB,EAKvB,CAAE,CAAC,CAAD,EAAI,CAAJ,CAAF,EAAU,CAAC,CAAD,EAAI,EAAJ,CAAV,EAAmB,CAAC,CAAD,EAAI,EAAJ,CAAnB,EAA4B,CAAC,CAAD,EAAI,CAAJ,CAA5B,CALuB,CAAzB;;AAQA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACX,KAAD,EAAQV,CAAR,EAAWC,CAAX,EAAcU,KAAd,EAAqBC,MAArB;AAAA,SAAgCJ,UAAU,CAAC,UAClEO,GADkE,EAC7Df,CAD6D,EAC1DC,CAD0D,EACvDU,KADuD,EAChDC,MADgD,EACrC;AAC/B,WAAOQ,gBAAgB,CAACL,GAAD,CAAhB,CAAsBO,GAAtB,CAA0B;AAAA;AAAA,UAAEC,EAAF;AAAA,UAAMC,EAAN;;AAAA,aAAc,CAC7CxB,CAAC,GAAGuB,EAAE,GAAGZ,KAAL,GAAa,CAD4B,EACzBV,CAAC,GAAGuB,EAAE,GAAGZ,MAAL,GAAc,EADO,CAAd;AAAA,KAA1B,CAAP;AAED,GAJoE,EAIlEF,KAJkE,EAI3DV,CAJ2D,EAIxDC,CAJwD,EAIrDU,KAJqD,EAI9CC,MAJ8C,CAA1C;AAAA,CAA3B;;AAMA,IAAMa,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAOf,KAAP,EAAc3C,MAAd;AAAA,SACpB2D,KAAK,CAACC,IAAN,CAAWF,IAAX,CAD6C,CAE7Cb,MAF6C,CAEtC,UAACC,WAAD,EAAce,SAAd,EAA4B;AACnC,QAAMC,iBAAiB,GAAG9D,MAAM,CAACG,QAAP,IACxBH,MAAM,CAACI,SAAP,GAAmBJ,MAAM,CAACM,aADF,CAA1B;AAEA,QAAMyD,gBAAgB,GAAG/D,MAAM,CAACG,QAAP,GAAkBH,MAAM,CAACK,UAAlD;AACA,QAAM2D,OAAO,GAAGlB,WAAW,CAACmB,MAAZ,GAAqBnB,WAAW,CAACA,WAAW,CAACmB,MAAZ,GAAqB,CAAtB,CAAhC,GAA2D;AACzEjC,MAAAA,CAAC,EAAE,CAAC8B,iBADqE;AAClD7B,MAAAA,CAAC,EAAE;AAD+C,KAA3E;AAEA,QAAMiC,MAAM,GAAGvB,KAAK,GAAGqB,OAAO,CAAChC,CAAR,GAAY,IAAI8B,iBAAvC,CANmC,CAOnC;;AACA,QAAM9B,CAAC,GAAGkC,MAAM,GAAG,CAAH,GAAOF,OAAO,CAAChC,CAAR,GAAY8B,iBAAnC;AACA,QAAM7B,CAAC,GAAG+B,OAAO,CAAC/B,CAAR,IAAaiC,MAAM,GAAGH,gBAAH,GAAsB,CAAzC,CAAV;AACA,QAAM9D,QAAQ,GAAGkE,WAAW,CAACnE,MAAM,CAACC,QAAR,CAA5B;AACA,QAAMC,QAAQ,GAAGkE,WAAW,CAACpE,MAAM,CAACE,QAAR,CAA5B;AACA,QAAImE,iBAAiB,GAAGR,SAAS,CAACS,WAAV,EAAxB;;AACA,QAAI,EAAED,iBAAiB,IAAIpE,QAAvB,CAAJ,EAAsC;AACpCoE,MAAAA,iBAAiB,GAAG,KAApB;AACD;;AACD,QAAME,UAAU,GAAGvE,MAAM,CAACG,QAA1B;AACA,QAAMC,SAAS,GAAGJ,MAAM,CAACG,QAAP,GAAkBH,MAAM,CAACI,SAA3C;AACA0C,IAAAA,WAAW,CAACE,IAAZ,CAAiB;AACfwB,MAAAA,QAAQ,EAAEtE,QAAQ,CAChBD,QAAQ,CAACoE,iBAAD,CADQ,EACarC,CADb,EACgBC,CADhB,EACmB7B,SADnB,EAC8BmE,UAD9B,CADH;AAGfvC,MAAAA,CAAC,EAAEA,CAHY;AAIfC,MAAAA,CAAC,EAAEA;AAJY,KAAjB;AAMA,WAAOa,WAAP;AACD,GA3B8C,EA2B5C,EA3B4C,CAAzB;AAAA,CAAtB;;AA6BA,IAAM2B,YAAY,GAAG,SAAfA,YAAe,CAAAC,MAAM;AAAA,SAAIA,MAAM,CAAC7B,MAAP,CAAc,UAACC,WAAD,EAAc6B,KAAd,EAAwB;AACnE,WAAO7B,WAAW,aAAM6B,KAAK,CAAC,CAAD,CAAX,cAAkBA,KAAK,CAAC,CAAD,CAAvB,MAAlB,CADmE,CAClB;AAClD,GAF8B,EAE5B,EAF4B,CAAJ;AAAA,CAA3B;;AAIA,IAAMR,WAAW,GAAG,SAAdA,WAAc,CAAAS,IAAI;AAAA,SAAK;AAC3BC,IAAAA,YAAY,EAAEzC,kBADa;AAE3B0C,IAAAA,OAAO,EAAEtE,eAFkB;AAG3BuE,IAAAA,QAAQ,EAAExC;AAHiB,IAI3BqC,IAJ2B,KAIlBxC,kBAJa;AAAA,CAAxB;;AAMA,IAAMgC,WAAW,GAAG,SAAdA,WAAc,CAAAQ,IAAI;AAAA,SAAK;AAC3BC,IAAAA,YAAY,EAAE5B,sBADa;AAE3B6B,IAAAA,OAAO,EAAE3B,iBAFkB;AAG3B4B,IAAAA,QAAQ,EAAE1B;AAHiB,IAI3BuB,IAJ2B,KAIlB3B,sBAJa;AAAA,CAAxB;;AAMA,IAAM+B,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,MAAMC,aAAa,GAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAtB;;AACA,MAAI,CAACF,aAAL,EAAoB;AAClB,WAAOjF,MAAM,CAACO,QAAd;AACD;;AACD,MAAM6E,WAAW,GAAGH,aAAa,CAACI,qBAAd,GAAsC1C,KAA1D;AACA,SAAO3C,MAAM,CAACO,QAAP,GAAkB6E,WAAlB,GAAgCA,WAAhC,GAA8CpF,MAAM,CAACO,QAA5D;AACD,CAPD;;AASA,IAAM+E,OAAO,GAAG,IAAIC,OAAJ,CAAY;AAC1BC,EAAAA,MAAM,EAAE,kBADkB;AAE1BC,EAAAA,QAAQ,EAAE,oBAFgB;AAG1BC,EAAAA,IAAI,EAAE;AACJ1F,IAAAA,MAAM,EAAEA,MADJ;AAEJ0D,IAAAA,IAAI,EAAE,mCAFF;AAGJiC,IAAAA,aAAa,EAAE,cAHX;AAIJC,IAAAA,QAAQ,EAAE,GAJN;AAKJjD,IAAAA,KAAK,EAAE3C,MAAM,CAACO,QALV;AAMJkE,IAAAA,YAAY,EAAEA,YANV;AAOJhB,IAAAA,aAAa,EAAEA,aAPX;AAQJoC,IAAAA,mBAAmB,EAAE,+BAAY;AAC/B,WAAKC,GAAL,CACE,eADF,YAEM,CAAC,KAAKC,GAAL,CAAS,MAAT,KAAoB,UAArB,EAAiCC,SAAjC,CAA2C,CAA3C,EAA8C,EAA9C,CAFN;AAGD,KAZG;AAaJC,IAAAA,cAAc,EAAE,0BAAY;AAC1B,UAAMC,WAAW,GAAG,KAAKC,IAAL,CAAU,aAAV,CAApB;AACA,UAAMC,aAAa,GAAG,KAAKD,IAAL,CAAU,cAAV,CAAtB;AACA,UAAME,OAAO,GAAG,IAAIC,IAAJ,CAAS,CAACF,aAAa,CAACG,SAAf,CAAT,EAAoC;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAApC,CAAhB;AACA,WAAKV,GAAL,CAAS,UAAT,EAAqBW,GAAG,CAACC,eAAJ,CAAoBL,OAApB,CAArB;AACD;AAlBG,GAHoB;AAuB1BM,EAAAA,OAAO,EAAE;AACP,YAAQ,gBAAY;AAClB,WAAKZ,GAAL,CAAS,qBAAT;AACD,KAHM;AAIP,2BAAuB,2BAAY;AACjC,WAAKA,GAAL,CAAS,gBAAT;AACD;AANM,GAvBiB;AA+B1Ba,EAAAA,QAAQ,EAAE,oBAAY;AACpB,SAAKd,GAAL,CAAS,OAAT,EAAkBd,QAAQ,EAA1B;AACD;AAjCyB,CAAZ,CAAhB;AAoCA6B,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC;AAAA,SAAMxB,OAAO,CAACsB,QAAR,EAAN;AAAA,CAAlC","file":"pentafont.c90738c3.js","sourceRoot":"../pentafont","sourcesContent":["const config = {\n  encoding: 'etaionsparse',\n  renderer: 'etaionsparse',\n  fontSize: 15,\n  fontWidth: 0.2,  // monospace for now\n  lineHeight: 1.5,\n  letterSpacing: 0,\n  minWidth: 640,\n}\n\nconst encodingDotsies = {\n  ' ': 0,\n  a: 0b00001,\n  b: 0b00010,\n  c: 0b00100,\n  d: 0b01000,\n  e: 0b10000,\n  f: 0b00011,\n  g: 0b00110,\n  h: 0b01100,\n  i: 0b11000,\n  j: 0b00101,\n  k: 0b01010,\n  l: 0b10100,\n  m: 0b01001,\n  n: 0b10010,\n  o: 0b10001,\n  p: 0b00111,\n  q: 0b01011,\n  r: 0b01101,\n  s: 0b01110,\n  t: 0b10110,\n  u: 0b11010,\n  v: 0b11100,\n  w: 0b10011,\n  x: 0b10101,\n  y: 0b11001,\n  z: 0b01111,\n  _31: 0b11111,\n}\n\nconst encodingEtaisparse = {\n  ' ': 0,\n  a: 0b01000,\n  b: 0b00111,\n  c: 0b01010,\n  d: 0b00101,\n  e: 0b00010,\n  f: 0b00110,\n  g: 0b11100,\n  h: 0b11000,\n  i: 0b10001,\n  j: 0b01101,\n  k: 0b11010,\n  l: 0b10100,\n  m: 0b10101,\n  n: 0b10000,\n  o: 0b00100,\n  p: 0b01100,\n  q: 0b10110,\n  r: 0b01001,\n  s: 0b10010,\n  t: 0b00001,\n  u: 0b00011,\n  v: 0b11001,\n  w: 0b01011,\n  x: 0b01110,\n  y: 0b10011,\n  z: 0b11011,\n  '.': 0b01111,\n  ',': 0b10111,\n  _29: 0b11101,\n  _30: 0b11110,\n  _31: 0b11111,\n}\n\nconst encodingLatinoid = {\n  ' ': 0,\n  a: 0b11000,\n  b: 0b01101,\n  c: 0b10010,\n  d: 0b01001,\n  e: 0b10110,\n  f: 0b01110,\n  g: 0b11010,\n  h: 0b11001,\n  i: 0b00001,\n  j: 0b00010,\n  k: 0b11101,\n  l: 0b00101,\n  m: 0b11100,\n  n: 0b10011,\n  o: 0b00100,\n  p: 0b01100,\n  q: 0b10100,\n  r: 0b11110,\n  s: 0b10001,\n  t: 0b10101,\n  u: 0b00110,\n  v: 0b00011,\n  w: 0b00111,\n  x: 0b11011,\n  y: 0b01011,\n  z: 0b01010,\n  '.': 0b10000,\n  ',': 0b01000,\n  _29: 0b01111,\n  _30: 0b10111,\n  _31: 0b11111,\n}\n\nconst renderByte = (bitRenderer, byte_, x, y, width, height) => (\n  [0, 1, 2, 3, 4]\n).reduce((accumulator, bit) => {\n  if (0 < (byte_ >> bit) % 2) {\n    accumulator.push(bitRenderer(bit, x, y, width, height))\n  }\n  return accumulator\n}, [])\n\nconst renderByteEtaionsparse = (byte_, x, y, width, height) => renderByte((\n    bit, x, y, width, height) => {\n  const grid = [\n    [x, y],  // 0\n    [x, y + height / 2],  // 1\n    [x, y + height],  // 2\n    [x + width, y],  // 3\n    [x + width, y + height / 3],  // 4\n    [x + width, y + height * 2 / 3],  // 5\n    [x + width, y + height],  // 6\n  ]\n  if (bit == 0) {\n    return [ grid[0], grid[4], grid[3] ]\n  } else if (bit == 1) {\n    return [ grid[0], grid[1], grid[4] ]\n  } else if (bit == 2) {\n    return [ grid[1], grid[5], grid[4] ]\n  } else if (bit == 3) {\n    return [ grid[1], grid[2], grid[5] ]\n  } else if (bit == 4) {\n    return [ grid[2], grid[6], grid[5] ]\n  }\n}, byte_, x, y, width, height)\n\nconst renderByteDotsies = (byte_, x, y, width, height) => renderByte((\n    bit, x, y, width, height) => [\n  [x, y + bit * height / 5],\n  [x, y + (bit + 1) * height / 5],\n  [x + width, y + (bit + 1) * height / 5],\n  [x + width, y + bit * height / 5],\n], byte_, x, y, width, height)\n\nconst latinoidPolygons = [\n  [ [0, 0], [1, 5], [2, 5], [2, 0] ],\n  [ [4, 0], [2, 5], [4, 5], [5, 2] ],\n  [ [1, 5], [1, 6], [5, 6], [4, 5] ],\n  [ [1, 6], [0, 8], [2, 10], [3, 6] ],\n  [ [2, 6], [4, 10], [5, 10], [4, 6] ],\n]\n\nconst renderByteLatinoid = (byte_, x, y, width, height) => renderByte((\n    bit, x, y, width, height) => {\n  return latinoidPolygons[bit].map(([x_, y_]) => [\n    x + x_ * width / 5, y + y_ * height / 10])\n}, byte_, x, y, width, height)\n\nconst renderLetters = (text, width, config) => (\n  Array.from(text)\n).reduce((accumulator, character) => {\n  const bruttoLetterWidth = config.fontSize * (\n    config.fontWidth + config.letterSpacing)\n  const bruttoLineHeight = config.fontSize * config.lineHeight\n  const lastPos = accumulator.length ? accumulator[accumulator.length - 1] : {\n    x: -bruttoLetterWidth, y: 0 }\n  const addRow = width < lastPos.x + 2 * bruttoLetterWidth\n  // 2 times because the last letter and this letter follows lastPos\n  const x = addRow ? 0 : lastPos.x + bruttoLetterWidth\n  const y = lastPos.y + (addRow ? bruttoLineHeight : 0)\n  const encoding = getEncoding(config.encoding)\n  const renderer = getRenderer(config.renderer)\n  let characterToRender = character.toLowerCase()\n  if (!(characterToRender in encoding)) {\n    characterToRender = '_31'\n  }\n  const fontHeight = config.fontSize\n  const fontWidth = config.fontSize * config.fontWidth\n  accumulator.push({\n    polygons: renderer(\n      encoding[characterToRender], x, y, fontWidth, fontHeight),\n    x: x,\n    y: y,\n  })\n  return accumulator\n}, [])\n\nconst pointsFormat = points => points.reduce((accumulator, point) => {\n  return accumulator + `${point[0]},${point[1]} `  // FIXME trailing space\n}, '')\n\nconst getEncoding = name => ({\n  etaionsparse: encodingEtaisparse,\n  dotsies: encodingDotsies,\n  latinoid: encodingLatinoid,\n}[name] || encodingEtaisparse)\n\nconst getRenderer = name => ({\n  etaionsparse: renderByteEtaionsparse,\n  dotsies: renderByteDotsies,\n  latinoid: renderByteLatinoid,\n}[name] || renderByteEtaionsparse)\n\nconst getWidth = () => {\n  const parentElement = document.getElementById('render-view')\n  if (!parentElement) {\n    return config.minWidth\n  }\n  const parentWidth = parentElement.getBoundingClientRect().width\n  return config.minWidth < parentWidth ? parentWidth : config.minWidth\n}\n  \nconst ractive = new Ractive({\n  target: '#reactive-target',\n  template: '#reactive-template',\n  data: {\n    config: config,\n    text: 'etaion shrdl ucmfw ypvbgk jqxz,.;',\n    imageFilename: 'untitled.svg',\n    imageURL: '#',\n    width: config.minWidth,\n    pointsFormat: pointsFormat,\n    renderLetters: renderLetters,\n    updateImageFilename: function () {\n      this.set(\n        'imageFilename',\n        `${ (this.get('text') || 'untitled').substring(0, 15) }.svg`)\n    },\n    updateImageURL: function () {\n      const linkElement = this.find('#image-link')\n      const renderElement = this.find('#render-view')\n      const svgFile = new Blob([renderElement.innerHTML], { type: 'text/svg' })\n      this.set('imageURL', URL.createObjectURL(svgFile))\n    },\n  },\n  observe: {\n    'text': function () {\n      this.get('updateImageFilename')()\n    },\n    'text width config.*': function () {\n      this.get('updateImageURL')()\n    },\n  },\n  onrender: function () {\n    this.set('width', getWidth())\n  },\n})\n\nwindow.addEventListener('resize', () => ractive.onrender())\n"]}